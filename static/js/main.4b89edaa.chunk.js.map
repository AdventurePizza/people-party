{"version":3,"sources":["Cursor.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useStyles","makeStyles","theme","createStyles","root","display","sizeBig","width","spacing","height","sizeSmall","Cursor","props","avatar","username","userCursorRef","classes","ref","className","style","position","overflow","Avatar","variant","src","alt","textAlign","defaultProps","shouldShowIsActive","Cursors","x","y","top","left","query_collection","socketURL","window","location","hostname","socket","io","transports","dAppClient","DAppClient","name","App","useState","activeAccount","setActiveAccount","synced","setSynced","showUnsync","setShowUnsync","isMobile","innerWidth","showPanel","setShowPanel","collections","setCollections","setUsername","setAvatar","React","createRef","userLocations","setUserLocations","emit","onCursorMove","useCallback","clientId","clientProfile","innerHeight","absoluteX","absoluteY","useEffect","onRoomateDisconnect","newUserLocations","on","off","fetchGraphQL","operationsDoc","operationName","variables","a","fetch","method","body","JSON","stringify","query","result","json","ress","addr","address","errors","data","console","error","hic_et_nunc_token_holder","fetchCollection","HashToURL","hash","type","undefined","replace","subdomain","ipfsClient","CID","toV1","toBaseEncodedString","err","getDomain","headers","then","res","reverseRecord","domain","updateCursorPosition","useMemo","_","throttle","onMouseMove","event","clientX","clientY","current","getActiveAccount","clearActiveAccount","sync","log","requestPermissions","permissions","addEventListener","slice","getAcc","Object","entries","map","key","fontSize","alignItems","overflowY","token","IconButton","onClick","display_uri","id","marginRight","Button","title","size","justifyContent","unsync","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","maxSnack","document","getElementById"],"mappings":"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","file":"static/js/main.4b89edaa.chunk.js","sourcesContent":["// @ts-nocheck\nimport React from 'react';\nimport {makeStyles,\tAvatar,\tcreateStyles,  Theme} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\ncreateStyles({\n  root: {\n    display: 'flex',\n  },\n  sizeBig: {\n    width: theme.spacing(12),\n    height: theme.spacing(12),\n  },\n  sizeSmall: {\n    width: theme.spacing(6),\n    height: theme.spacing(6),\n  },\n}),\n);\n\nexport const Cursor = (props) => {\n    const {\n        avatar,\n        username,\n        userCursorRef\n    } = props;\n    const classes = useStyles();\n    return (\n        <div ref={userCursorRef} className={props.className} style={{position:\"absolute\", overflow: \"hidden\"}}>\n            <Avatar variant=\"rounded\" src={avatar} alt=\"change avatar\" className={classes.sizeSmall} /> \n            <div style={{ textAlign: \"center\" }} >{username} </div>\n        </div>\n    );\n};\n\nCursor.defaultProps = {\n    shouldShowIsActive: true\n};\n\nexport const Cursors = (props) => {\n  const {\n      avatar,\n      x,\n      y,\n      username,\n  } = props;\n  const classes = useStyles();\n  return (\n      <div  className={props.className} style={{position:\"absolute\", top: (y), left: x, overflow: \"hidden\"}}>\n          <Avatar variant=\"rounded\" src={avatar} alt=\"change avatar\" className={classes.sizeSmall} />\n          <div style={{ textAlign: \"center\" }} >{username} </div>\n      </div>\n  );\n};\n\n","// @ts-nocheck\n\nimport \"./App.css\";\nimport React, {\n  useCallback,\n  useEffect,\n  useState,\n  useMemo\n} from \"react\";\n\n//ui\nimport {Button, makeStyles,\tAvatar, IconButton,\tcreateStyles,  Theme} from \"@material-ui/core\";\n\n//logic\nimport io from \"socket.io-client\";\nimport { DAppClient } from \"@airgap/beacon-sdk\";\nimport _ from \"underscore\";\nimport {Cursor, Cursors} from './Cursor';\n\nconst query_collection = `\nquery collectorGallery($address: String!) {\n  hic_et_nunc_token_holder(where: {holder_id: {_eq: $address}, token: {creator: {address: {_neq: $address}}}, quantity: {_gt: \"0\"}}, order_by: {token_id: desc}) {\n\ttoken {\n\t  id\n\t  artifact_uri\n\t  display_uri\n\t  thumbnail_uri\n\t  timestamp\n\t  mime\n\t  title\n\t  description\n\t  supply\n\t  royalties\n\t  creator {\n\t\taddress\n\t  }\n\t}\n  }\n}\n`\n\nconst socketURL =\n  window.location.hostname === \"localhost\"\n    ? \"ws://localhost:8000\"\n    : \"wss://peopleparty-server.herokuapp.com\";\n\nconst socket = io(socketURL, { transports: [\"websocket\"] });\nconst dAppClient = new DAppClient({ name: \"Beacon Docs\" });\nconst useStyles = makeStyles((theme: Theme) =>\ncreateStyles({\n  root: {\n    display: 'flex',\n  },\n  sizeBig: {\n    width: theme.spacing(12),\n    height: theme.spacing(12),\n  },\n  sizeSmall: {\n    width: theme.spacing(6),\n    height: theme.spacing(6),\n  },\n}),\n);\n\nfunction App() {\n\n  const classes = useStyles();\n  const [activeAccount, setActiveAccount] = useState();\n\tconst [synced, setSynced] = useState('sync');\n\tconst [showUnsync, setShowUnsync] = useState(false);\n  const isMobile = window.innerWidth <= 500;\n\tconst [showPanel, setShowPanel] = useState(false);\n\tconst [collections, setCollections] = useState([]);\n  const [username, setUsername] = useState(\"anon\");\n  const [avatar, setAvatar] = useState(\"https://ipfs.io/ipfs/QmVAiRHjVLPJYnf7jCpVeqrqRBE7HFN9nm5ZB2QSZ5BY52\");\n  const userCursorRef = React.createRef<HTMLDivElement>();\n\tconst [userLocations, setUserLocations] = useState({});\n\n  socket.emit('username', username);\n  socket.emit('avatar', avatar);\n\n\n\n  const onCursorMove = useCallback(\n\t\tfunction cursorMove(\n\t\t\tclientId: string,\n\t\t\t[x, y]: number[],\n\t\t\tclientProfile: IUserProfile\n\t\t) {\n\t\t\tconst width = window.innerWidth;\n\t\t\tconst height = window.innerHeight;\n\t\t\tconst absoluteX = width * x;\n\t\t\tconst absoluteY = height * y;\n\n\n\t\t\tsetUserLocations((userLocations) => {\n\t\t\t\tconst newUserLocations = {\n\t\t\t\t\t...userLocations,\n\t\t\t\t\t[clientId]: {\n\t\t\t\t\t\t...userLocations[clientId],\n\t\t\t\t\t\tx: absoluteX,\n\t\t\t\t\t\ty: absoluteY,\n            avatar: clientProfile.avatar,\n            username: clientProfile.name,\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn newUserLocations;\n\t\t\t});\n\t\t},\n\t\t[]\n\t);\n\n  useEffect(() => {\n    const onRoomateDisconnect = (clientId: string) => {\n      setUserLocations((userLocations) => {\n        const newUserLocations = {\n          ...userLocations\n        };\n        delete newUserLocations[clientId];\n  \n        return newUserLocations;\n      });\n    };\n\n    socket.on('roommate disconnect', onRoomateDisconnect);\n    socket.on('cursor move', onCursorMove);\n    return () => {\n      socket.off('roomate disconnect', onRoomateDisconnect);\n      socket.off('cursor move', onCursorMove);\n    };\n  }, [onCursorMove]);\n\n\tuseEffect(() => {\n\t\tasync function fetchGraphQL(operationsDoc, operationName, variables) {\n\t\t\tlet result = await fetch('https://hdapi.teztools.io/v1/graphql', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tquery: operationsDoc,\n\t\t\t\t\tvariables: variables,\n\t\t\t\t\toperationName: operationName,\n\t\t\t\t}),\n\t\t\t})\n\t\n\t\t\tvar ress = await result.json();\n\t\t\treturn ress;\n\t\t}\n\n\t\tasync function fetchCollection(addr) {\n\t\t\tconst { errors, data } = await fetchGraphQL(\n\t\t\t  query_collection,\n\t\t\t  'collectorGallery',\n\t\t\t  { address: addr }\n\t\t\t)\n\t\t\tif (errors) {\n\t\t\t  console.error(errors)\n\t\t\t}\n\t\t\tconst result = data ? data.hic_et_nunc_token_holder : null;\n\t\t\tsetCollections(result)\n\t\t\treturn result\n\t\t  }\n\n      if(activeAccount)\n\t\t  fetchCollection(activeAccount.address);\n\t}, [activeAccount]);\n\n  const HashToURL = (hash, type) => {\n\t\t// when on preview the hash might be undefined.\n\t\t// its safe to return empty string as whatever called HashToURL is not going to be used\n\t\t// artifactUri or displayUri\n\t\tif (hash === undefined) {\n\t\t  return ''\n\t\t}\n\t  \n\t\tswitch (type) {\n\t\t  case 'HIC':\n\t\t\treturn hash.replace('ipfs://', 'https://pinata.hicetnunc.xyz/ipfs/')\n\t\t  case 'CLOUDFLARE':\n\t\t\treturn hash.replace('ipfs://', 'https://cloudflare-ipfs.com/ipfs/')\n\t\t  case 'PINATA':\n\t\t\treturn hash.replace('ipfs://', 'https://gateway.pinata.cloud/ipfs/')\n\t\t  case 'IPFS':\n\t\t\treturn hash.replace('ipfs://', 'https://ipfs.io/ipfs/')\n\t\t  case 'INFURA':\n\t\t\ttry {\n\t\t\tvar cidv1 = new ipfsClient.CID(hash.replace('ipfs://', '')).toV1()\n\t\t\tvar subdomain = cidv1.toBaseEncodedString('base32')\n\t\t\treturn `https://${subdomain}.ipfs.infura-ipfs.io/`\n\t\t  } catch (err) {\n\t\t\treturn undefined\n\t\t  }\n\t\t  case 'DWEB':\n\t\t\treturn hash.replace('ipfs://', 'http://dweb.link/ipfs/')\n\t\t  default:\n\t\t\tconsole.error('please specify type')\n\t\t\treturn hash\n\t\t}\n\t  }\n\n  //fetch wallet name if it exist for example, trydrum.tez\n  async function getDomain(address: string) {\n    let domain;\n    await fetch('https://api.tezos.domains/graphql', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        query: `\n            {\n              reverseRecord(address: \"`+ address +`\"){owner domain{name}}\n            }\n            `,\n        variables: {\n        },\n      }\n      ),\n      })\n      .then((res) => res.json())\n      .then((result) => {\n        //console.log(result);\t\n        if(result.data.reverseRecord){\n          domain = result.data.reverseRecord.domain.name;\n          setSynced(domain);\n          setUsername(domain);\n        }\n      });\n  }\n\n  const updateCursorPosition = useMemo(\n\t\t() =>\n\t\t\t_.throttle((position: [number, number]) => {\n\t\t\t\tsocket.emit('cursor move', { x: position[0], y: position[1] });\n\t\t\t}, 200),\n\t\t[]\n\t);\n\n\tconst onMouseMove = useCallback(\n\t\t(event: MouseEvent) => {\n\t\t\tconst x = event.clientX;\n\t\t\tconst y = event.clientY;\n\n\t\t\tconst width = window.innerWidth;\n\t\t\tconst height = window.innerHeight;\n\n\t\t\tconst relativeX = (x - 60) / width;\n\t\t\tconst relativeY = (y - 60) / height;\n\n\t\t\tupdateCursorPosition([relativeX, relativeY]);\n\n\t\t\tif (userCursorRef.current) {\n\t\t\t\tuserCursorRef.current.style.left = x + 20 + 'px';\n\t\t\t\tuserCursorRef.current.style.top = y + 20 + 'px';\n\t\t\t}\n\t\t},\n\t\t[updateCursorPosition, userCursorRef]\n\t);\n\n\tuseEffect(() => {\n\t\twindow.addEventListener('mousemove', onMouseMove);\n\t}, [onMouseMove]);\n\n\n\n  useEffect( () => {\n    async function getAcc() {\n      setActiveAccount( await dAppClient.getActiveAccount());\n      if (activeAccount){\n        setSynced(activeAccount.address.slice(0, 6) + \"...\" + activeAccount.address.slice(32, 36) );\n        setUsername(activeAccount.address.slice(0, 6) + \"...\" + activeAccount.address.slice(32, 36) );\n        setShowUnsync(true);\n        getDomain(activeAccount.address);\n      }\n      else{\n        setSynced('sync');\n        setShowUnsync(false);\n      }\n    }\n\t\tgetAcc();\n\t}, [activeAccount]);\n\n\n\n  async function unsync() {\n    setActiveAccount( await dAppClient.getActiveAccount())\n\t\tif (activeAccount) {\n\t\t  // User already has account connected, everything is ready\n\t\t  dAppClient.clearActiveAccount().then(async () => {\n        setActiveAccount( await dAppClient.getActiveAccount()) \n        setSynced('sync');\n        setUsername(\"anon\");\n        setShowUnsync(false);\n\t\t  });\n\t\t}\n\t}\n\t  \n\tasync function sync() {\n    setActiveAccount( await dAppClient.getActiveAccount())\n    //Already connected\n\t\tif (activeAccount) {\n      setSynced(activeAccount.address)\n\t\t\tsetShowUnsync(true);\n      getDomain(activeAccount.address);\n\n\t\t  return activeAccount;\n\t\t} \n    // The user is not synced yet\n    else {\n\t\t  try {\n        console.log(\"Requesting permissions...\");\n        const permissions = await dAppClient.requestPermissions();\n        setActiveAccount( await dAppClient.getActiveAccount())\n        console.log(\"Got permissions:\", permissions.address);\n        setSynced(permissions.address)\n        setShowUnsync(true);\n\n        getDomain(permissions.address);\n\n\t\t  } \n      catch (error) {\n\t\t\t  console.log(\"Got error:\", error);\n\t\t  }\n\t\t}\n\t}\n\n\n\n  return (\n    <>\n      <Cursor avatar={avatar} userCursorRef={userCursorRef} username={username}/>\n    <div style={{ height: \"100vh\" }} >\n      { userLocations && Object.entries(userLocations).map(([key, value]) => (\n              <Cursors x={userLocations[key].x} y={userLocations[key].y} avatar={userLocations[key].avatar} username={userLocations[key].username}/>    \n\t\t\t\t\t\t\t)\n            )\n      }\n\n\n      <div className=\"top-left\" style={{fontSize: isMobile ? \"1em\" : \"1.5em\", display:\"flex\", alignItems:\"center\" }} > \t\n        people party\n        \n      </div>\n\n      <div>\n\n      </div>\n\n      <div className=\"bottom\" style={{position:\"absolute\"}} >\n        <div   >\n        {showPanel &&\n          <div className=\"panel\"  style={{ display: \"flex\", width: \"100%\", overflowY: \"auto\" }}>\n            {\t\tcollections && \t\t\t\n            collections.map(({ token}) => (\n              <IconButton\n                key={token.id}\n                onClick={() => {\n                  //sendObjkt (token.id, 'objkt');\n                  //console.log(token.id)\n                  setAvatar(HashToURL( token.display_uri, 'IPFS'));\n                  socket.emit('avatar', HashToURL( token.display_uri, 'IPFS'));\n                }}\n              >\n                <Avatar variant=\"rounded\" src={HashToURL( token.display_uri, 'IPFS')} alt={token.id} className={classes.sizeBig} />\n                \n              </IconButton>\n            ))\n            }\n          </div>\n        }\n        </div>\n        <div style={{display: \"flex\"}}>\n          <div  style={{marginRight: \"auto\"}}>\n            <Button  title={\"Adventure Networks\"} size={isMobile ? \"small\" : \"medium\"}  onClick={() => { }} >  <div style={{textAlign: \"left\"}}> Adventure <br></br>Networks </div> </Button>\n          </div>\n\n          <div style={{ display: \"flex\", alignItems: \"end\", justifyContent: \"flex-end\"}}>\n          \n            <div style={{display: \"flex\", alignItems: \"center\", justifyContent: \"flex-end\"}}>\n\n\n              {showUnsync && <Button size={isMobile ? \"small\" : \"medium\"}  title={\"unsync\"} onClick={() => { unsync() }} ><u>unsync</u> </Button>} \n              \n              {showUnsync && <div> | </div>}\n              <Button  title={\"sync\"} size={isMobile ? \"small\" : \"medium\"}  onClick={async () => { \tawait sync();\t}} ><u>{synced}</u> </Button> \n              {showUnsync && <><div> | </div>\n              <Button size={isMobile ? \"small\" : \"medium\"}  title={\"unsync\"} onClick={() => { setShowPanel(!showPanel)}} >\n                  <Avatar variant=\"rounded\" src={avatar} alt=\"change avatar\" className={classes.sizeSmall} /> \n                </Button> \n              </>} \n            </div>\n\n          </div>\n        </div>\n      </div>\n      \n    </div>\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import \"./index.css\";\n\nimport App from \"./App\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { SnackbarProvider } from \"notistack\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n    <SnackbarProvider maxSnack={3}>\n      <App />\n    </SnackbarProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}